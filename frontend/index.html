<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recytmos</title>
    <link rel="icon" type="image/png" href="logo-recytmos.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Logo en la pantalla de login -->
    <div class="logo-recytmos" id="logo-login">
        <img src="logo-recytmos.png" alt="Logo Recytmos">
    </div>
    <!-- Contenedor del slide -->
    <div id="slide-container" class="slide-container" style="display:none;">
        <h2>Noticias y Datos Curiosos</h2>
        <div id="slide-content"></div>
        <button id="slide-ingresar">Ingresar</button>
    </div>

    <!-- Login container -->
    <div id="login-container" class="login-container">
        <form id="login-form">
            <h2>Iniciar sesi√≥n</h2>
            <input type="text" id="documento" placeholder="Documento de identidad" required>
            <input type="password" id="password" placeholder="Contrase√±a" required>
            <button type="submit">Ingresar</button>
            <div class="login-links">
                <a href="#" id="registro-link">Registro</a> /
                <a href="#" id="olvide-link">Olvid√© contrase√±a</a>
            </div>
            <div id="login-error" class="login-error"></div>
        </form>
    </div>

    <!-- Pantalla principal estudiante -->
    <div class="main-student" id="main-student" style="display:none;">
        <div class="top-bar">
            <span class="logo-recytmos-barra"><img src="logo-recytmos.png" alt="Logo Recytmos" height="38"></span>
            <span class="menu-icon" id="menu-icon">&#9776;</span>
            <span class="student-doc" id="student-doc"></span>
            <span class="student-achievement" id="student-achievement" style="display:none;"></span>
            <span style="flex:1;"></span>
            <span class="bonus-counter" id="bonus-counter">0.0</span>
            <span class="user-icon"><img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="user" width="28"></span>
        </div>
        <div class="main-content">
            <div class="student-message" id="student-message">
                ¬°Bienvenido! Selecciona el residuo que vas a depositar.
            </div>
            <div class="residues-row">
                <div class="residue-card reciclables" data-type="RECICLABLES">
                    <svg width="60" height="100" viewBox="0 0 60 100" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom:6px;">
                        <!-- Tapa de la botella -->
                        <ellipse cx="30" cy="8" rx="5" ry="3" fill="#ffffff" stroke="#111" stroke-width="2"/>
                        <rect x="25" y="4" width="10" height="6" rx="2" fill="#ffffff" stroke="#111" stroke-width="2"/>

                        <!-- Cuello -->
                        <rect x="26" y="10" width="8" height="10" rx="2" fill="#ffffff" stroke="#111" stroke-width="2"/>

                        <!-- Hombros curvados y cuerpo con base redonda -->
                        <path d="M26 20 
                                 Q20 25, 20 30 
                                 L20 70 
                                 Q20 90, 30 90 
                                 Q40 90, 40 70 
                                 L40 30 
                                 Q40 25, 34 20 
                                 Z" 
                              fill="#ffffff" stroke="#111" stroke-width="2"/>

                        <!-- L√≠neas decorativas -->
                        <line x1="22" y1="40" x2="38" y2="40" stroke="#111" stroke-width="2"/>
                        <line x1="22" y1="55" x2="38" y2="55" stroke="#111" stroke-width="2"/>
                    </svg>
                    <span class="residue-title">APROVECHABLES</span>
                </div>
                <div class="residue-card organicos" data-type="ORG√ÅNICOS">
                    <svg width="60" height="80" viewBox="0 0 60 80" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom:6px; display: block;">
                        <!-- Cuerpo de la manzana grande y estilizada -->
                        <path d="M30 32
                                 Q10 28, 10 50
                                 Q10 75, 30 72
                                 Q50 75, 50 50
                                 Q50 28, 30 32
                                 Z"
                              fill="#fff" stroke="#111" stroke-width="2.5"/>
                        <!-- Tallo m√°s largo -->
                        <rect x="27" y="14" width="6" height="18" rx="2" fill="#111"/>
                        <!-- Hoja m√°s grande -->
                        <path d="M33 14 Q45 2, 47 22 Q39 20, 33 14 Z" fill="#98fb98" stroke="#111" stroke-width="2"/>
                    </svg>
                    <span class="residue-title">ORG√ÅNICOS</span>
                </div>
                <div class="residue-card noaprovechables" data-type="NOAPROVECHABLES">
                    <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom:6px; display: block;">
                        <!-- Recipiente de comida grande -->
                        <rect x="8" y="38" width="32" height="24" rx="4" fill="#fff" stroke="#111" stroke-width="2.5"/>
                        <rect x="8" y="38" width="32" height="12" rx="4" fill="#fff" stroke="#111" stroke-width="2.5"/>
                        <path d="M8 50 Q20 46, 24 54 Q28 46, 40 50 Q36 66, 16 66 Q8 60, 8 50 Z" fill="#e53935" stroke="#e53935" stroke-width="1.5"/>
                        <rect x="16" y="46" width="16" height="3" rx="1.5" fill="#111"/>
                        <!-- Vaso desechable grande -->
                        <rect x="48" y="18" width="24" height="40" rx="5" fill="#fff" stroke="#111" stroke-width="2.5"/>
                        <ellipse cx="60" cy="18" rx="12" ry="3.5" fill="#fff" stroke="#111" stroke-width="2.5"/>
                        <path d="M52 18 Q56 32, 60 28 Q64 24, 72 32 Q68 36, 60 28 Q56 24, 52 18 Z" fill="#2196f3" stroke="#2196f3" stroke-width="1.5"/>
                        <circle cx="60" cy="40" r="8" fill="none" stroke="#111" stroke-width="2.5"/>
                    </svg>
                    <span class="residue-title">NO APROVECHABLES</span>
                </div>
            </div>
            <!-- Bot√≥n de cerrar sesi√≥n -->
            <button class="logout-btn" id="logout-btn">Cerrar sesi√≥n</button>
        </div>
        <!-- Men√∫ lateral -->
        <div class="side-menu" id="side-menu">
            <div class="side-menu-header">
                <span class="side-menu-title">Materias</span>
                <button class="close-menu-btn" id="close-menu-btn">&larr; Volver</button>
            </div>
            <ul id="materias-list">
                <!-- Materias se llenan por JS -->
            </ul>
        </div>
        <!-- Overlay para animaciones y mensajes -->
        <div class="overlay" id="overlay" style="display:none;">
            <div class="overlay-content" id="overlay-content">
                <!-- Aqu√≠ van los mensajes y animaciones -->
            </div>
        </div>
    </div>

    <!-- Pantalla principal admin -->
    <div class="main-admin" id="main-admin" style="display:none;">
        <div class="top-bar-admin">
            <span class="logo-recytmos-barra"><img src="logo-recytmos.png" alt="Logo Recytmos" height="38"></span>
            <span class="main-title">Panel de Administraci√≥n</span>
            <span class="admin-info">
                <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="admin" width="32">
                <span id="admin-name" class="admin-name"></span>
            </span>
        </div>
        <div class="admin-panel-card">
            <div class="admin-section">
                <h4>Gesti√≥n acad√©mica</h4>
                <button class="admin-btn" id="btn-asignar-materias">üìö Asignaci√≥n de materias</button>
                <button class="admin-btn" id="btn-informes">üìÑ Generar informes</button>
            </div>
            <div class="admin-section">
                <h4>Gesti√≥n ambiental</h4>
                <!-- <button class="admin-btn" id="btn-info-ambiental">üå± Informaci√≥n ambiental</button> -->
                <button class="admin-btn" id="btn-logros">üèÖ Logros de estudiantes</button>
                <button class="admin-btn" id="btn-top">üèÜ Top recicladores</button>
            </div>
            <div class="admin-section">
                <h4>Noticias y reportes</h4>
                <button class="admin-btn" id="btn-noticias">üì∞ Noticias y datos curiosos</button>
                <button class="admin-btn" id="btn-reportes">üìã Administraci√≥n de reportes</button>
            </div>
            <div class="admin-section">
                <h4>Gesti√≥n avanzada</h4>
                <button class="admin-btn" id="btn-gestion-datos-curiosos">üí° Datos curiosos</button>
                <button class="admin-btn" id="btn-gestion-logros">üéñÔ∏è Logros</button>
            </div>
        </div>
        <button class="logout-btn" id="logout-btn-admin">Cerrar sesi√≥n</button>
    </div>

    <!-- Modal gesti√≥n de materias -->
    <div id="modal-materias" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Gesti√≥n de Materias</h3>
            <ul id="lista-materias-admin"></ul>
            <input type="text" id="nueva-materia" placeholder="Nueva materia">
            <button id="agregar-materia">Agregar materia</button>
            <button id="cerrar-modal-materias">Cerrar</button>
        </div>
    </div>

    <!-- Modal informe bonificaciones -->
    <div id="modal-bonificaciones" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Informe de Bonificaciones</h3>
            <table id="tabla-bonificaciones">
                <thead>
                    <tr><th>Estudiante</th><th>Materia</th><th>Bonificaci√≥n</th><th>Fecha</th></tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="descargar-informe">Descargar CSV</button>
            <button id="cerrar-modal-bonificaciones">Cerrar</button>
        </div>
    </div>

    <!-- Modal informaci√≥n ambiental -->
    <div id="modal-info-ambiental" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Informaci√≥n ambiental</h3>
            <canvas id="grafico-residuos" width="320" height="180" style="margin-bottom:18px;"></canvas>
            <div style="margin-bottom:12px;"><b>Tip ambiental:</b> ¬°Recicla papel y ahorra √°rboles!</div>
            <table style="margin-bottom:12px;">
                <thead><tr><th>Tipo</th><th>Reciclado (kg)</th></tr></thead>
                <tbody>
                    <tr><td>Papel</td><td>120</td></tr>
                    <tr><td>Pl√°stico</td><td>80</td></tr>
                    <tr><td>Vidrio</td><td>60</td></tr>
                    <tr><td>Org√°nico</td><td>150</td></tr>
                </tbody>
            </table>
            <button id="volver-info-ambiental">Volver</button>
        </div>
    </div>

    <!-- Modal logros de estudiantes -->
    <div id="modal-logros" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Logros de estudiantes</h3>
            <table style="margin-bottom:12px;">
                <thead><tr><th>Estudiante</th><th>Logro</th><th>Medalla</th></tr></thead>
                <tbody>
                    <tr><td>Ana</td><td>100 kg reciclados</td><td>ü•á</td></tr>
                    <tr><td>Luis</td><td>50 kg reciclados</td><td>ü•à</td></tr>
                    <tr><td>Mar√≠a</td><td>30 kg reciclados</td><td>ü•â</td></tr>
                </tbody>
            </table>
            <button id="volver-logros">Volver</button>
        </div>
    </div>

    <!-- Modal noticias y datos curiosos -->
    <div id="modal-noticias" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Noticias y datos curiosos</h3>
            <div style="margin-bottom:10px;"><b>Noticias recientes:</b></div>
            <ul style="text-align:left; margin-bottom:12px;">
                <li>2025-06-01: Nueva campa√±a de reciclaje en colegios</li>
                <li>2025-05-28: Se super√≥ la meta de residuos org√°nicos</li>
            </ul>
            <div style="margin-bottom:10px;"><b>Datos curiosos:</b></div>
            <ul style="text-align:left;">
                <li>Reciclar una lata ahorra suficiente energ√≠a para ver TV 3 horas.</li>
                <li>El vidrio puede reciclarse infinitas veces.</li>
            </ul>
            <button id="volver-noticias">Volver</button>
        </div>
    </div>

    <!-- Modal top estudiantes recicladores -->
    <div id="modal-top" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Top estudiantes recicladores</h3>
            <canvas id="grafico-top" width="320" height="180" style="margin-bottom:18px;"></canvas>
            <table style="margin-bottom:12px;">
                <thead><tr><th>Posici√≥n</th><th>Estudiante</th><th>Kg reciclados</th></tr></thead>
                <tbody>
                    <tr><td>1</td><td>Ana</td><td>100</td></tr>
                    <tr><td>2</td><td>Luis</td><td>80</td></tr>
                    <tr><td>3</td><td>Mar√≠a</td><td>60</td></tr>
                    <tr><td>4</td><td>Pedro</td><td>40</td></tr>
                    <tr><td>5</td><td>Luc√≠a</td><td>30</td></tr>
                </tbody>
            </table>
            <button id="volver-top">Volver</button>
        </div>
    </div>

    <!-- Modal administraci√≥n de reportes -->
    <div id="modal-reportes" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Administraci√≥n de reportes</h3>
            <table style="margin-bottom:12px;">
                <thead><tr><th>Tipo</th><th>Fecha</th><th>Responsable</th></tr></thead>
                <tbody>
                    <tr><td>Semanal</td><td>2025-06-01</td><td>Admin</td></tr>
                    <tr><td>Mensual</td><td>2025-05-31</td><td>Admin</td></tr>
                </tbody>
            </table>
            <button id="descargar-reporte-ejemplo">Descargar reporte</button>
            <button id="volver-reportes">Volver</button>
        </div>
    </div>

    <!-- Modal Registro de Usuario -->
    <div id="modal-registro" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Registro de Usuario</h3>
            <form id="form-registro">
                <input type="text" id="registro-documento" placeholder="Documento de identidad" required>
                <input type="password" id="registro-password" placeholder="Contrase√±a" required>
                <button type="submit">Registrar</button>
                <div id="registro-error" class="login-error"></div>
            </form>
            <button id="cerrar-modal-registro">Cerrar</button>
        </div>
    </div>

    <!-- Modal Olvid√© Contrase√±a -->
    <div id="modal-olvide" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Recuperar Contrase√±a</h3>
            <form id="form-olvide">
                <input type="text" id="olvide-documento" placeholder="Documento de identidad" required>
                <button type="submit">Recuperar</button>
                <div id="olvide-error" class="login-error"></div>
                <div id="olvide-nueva-pass" style="color:#222; font-weight:bold; margin-top:10px;"></div>
            </form>
            <button id="cerrar-modal-olvide">Cerrar</button>
        </div>
    </div>

    <!-- Modal gesti√≥n de datos curiosos -->
    <div id="modal-datos-curiosos" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Gesti√≥n de Datos Curiosos</h3>
            <ul id="lista-datos-curiosos"></ul>
            <input type="text" id="nuevo-dato-curioso" placeholder="Nuevo dato curioso">
            <button id="agregar-dato-curioso">Agregar dato curioso</button>
            <button id="cerrar-modal-datos-curiosos">Cerrar</button>
        </div>
    </div>

    <!-- Modal gesti√≥n de logros -->
    <div id="modal-logros-admin" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Gesti√≥n de Logros</h3>
            <ul id="lista-logros-admin"></ul>
            <input type="text" id="logro-estudiante" placeholder="Documento estudiante">
            <input type="text" id="logro-desc" placeholder="Descripci√≥n">
            <input type="text" id="logro-medalla" placeholder="Medalla (opcional)">
            <button id="agregar-logro">Agregar logro</button>
            <button id="cerrar-modal-logros-admin">Cerrar</button>
        </div>
    </div>

    <!-- Modal gesti√≥n de noticias -->
    <div id="modal-noticias-admin" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Gesti√≥n de Noticias</h3>
            <ul id="lista-noticias-admin"></ul>
            <input type="text" id="noticia-titulo" placeholder="T√≠tulo">
            <input type="text" id="noticia-contenido" placeholder="Contenido">
            <button id="agregar-noticia">Agregar noticia</button>
            <button id="cerrar-modal-noticias-admin">Cerrar</button>
        </div>
    </div>

    <!-- Modal gesti√≥n de reportes -->
    <div id="modal-reportes-admin" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Gesti√≥n de Reportes</h3>
            <ul id="lista-reportes-admin"></ul>
            <input type="text" id="reporte-tipo" placeholder="Tipo de reporte">
            <input type="text" id="reporte-responsable" placeholder="Responsable">
            <button id="agregar-reporte">Agregar reporte</button>
            <button id="cerrar-modal-reportes-admin">Cerrar</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 